From 7ffaa3df077979de97ae33886c6753357af0b7cb Mon Sep 17 00:00:00 2001
From: Abhiram <103818282+Azure-Helper@users.noreply.github.com>
Date: Tue, 21 Feb 2023 18:52:50 +0530
Subject: [PATCH] arch: arm64: configs: xiaomi: Setup Kprobes

---
 arch/arm64/configs/vendor/xiaomi/sm8150-common.config | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/arch/arm64/configs/vendor/xiaomi/sm8150-common.config b/arch/arm64/configs/vendor/xiaomi/sm8150-common.config
index 987970604968..e4d7051bbaec 100644
--- a/arch/arm64/configs/vendor/xiaomi/sm8150-common.config
+++ b/arch/arm64/configs/vendor/xiaomi/sm8150-common.config
@@ -49,3 +49,9 @@ CONFIG_MFD_SPK_ID=y
 
 # TEE
 CONFIG_TRUSTY=y
+
+# Kprobes
+CONFIG_MODULES=y
+CONFIG_KPROBES=y
+CONFIG_HAVE_KPROBES=y
+CONFIG_KPROBE_EVENTS=y
